---
title: CSRF漏洞
date: 2022-04-18 16:58:50
categories:
- CS
- security
tags:
- CSRF
toc: true
---
**摘要：本文介绍了CSRF漏洞的定义和攻击方法**
<!-- more -->
# 前言

---
# 一.什么是CSRF
CSRF(Cross-site request forgery,跨站请求伪造),是一种挟制用户在当前【已登录】的 【Web 应用程序】上执行【非本意】的操作 的攻击方法。即目标修改了攻击者的修改
```
XSS的攻击，是利用用户对网站的信任。
CSRF攻击：利用网站对用户的信任。
xsrf = xss + csrf
```
```
正常网站A，我们有一个转账的操作，
危险网站B，它能够利用我们的cookie去完成转账的操作，前提：我们必须访问这个危险网站B。
例如：攻击者，保存了【提交公告】的操作，受害者登录了后台，同时也访问了另外一个危险网站，这个危险网站会利用POC和cookie执行【提交公告】这个操作
```
注意,目标先访问A，后访问B；且保存的这个操作必须是同个网站的，比如说想让管理员创建一个用户，但是普通用户是访问不了创建用户的界面的，无法生成POC，就不能这样攻击。且不是所有网站都有CSRF

我们通过一些技术手段欺骗受害者的浏览器去访问一个登录过的网站并执行一些操 作。
由于浏览器曾经认证过，所以被访问的网站 会认为是真正的用户操作而去执行。

# 二、csrf 验证步骤(比如用扫描器扫描到了CSRF漏洞)
```
step1:注册两个账号（临时邮箱，接码平台）
如：test-1 和 test-2
step2：test-2 修改信息，抓包，生成poc(burp)
step3:test-2退出账号，登录test-1。test-1访问生成的poc
```
![5](https://cdn.jsdelivr.net/gh/zhangsx19/PicBed/images_for_blogs5.png)

# 三、CSRF自点击技巧
```
id='a'是干啥呀 #  相当于给form取了个名字
setTimeout()   # 定时器，每隔多少执行一个操作
```

# 四、生成方法
burp记录这个操作的时候，都是HTML语言  --->  是CSRF攻击的一种生成方法


现在生成csrf攻击的另外一种——JS语言

---
# 总结

---
# 参考资料
